@model IEnumerable<ProjectManagementWeb.Models.NhiemVu>

@{
    ViewBag.Title = "NhiemVu";
    Layout = "~/Views/Shared/_LayoutUser.cshtml";
    <link href="~/Content/css/User/CSSNhiemVu.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="~/Content/JS/JSNhiemVu.js"></script>
}

<div class="container">
    <div class="header">
        <div class="title">Bảng nhiệm vụ</div>
    </div>
    @if (Model == null || !Model.Any())
    {
        <p>Không có nhiệm vụ nào được giao.</p>
    }
    else
    {
        <table class="table">
            <tr style="text-align:center">
                <th>ID Dự án</th>
                <th>Tên nhiệm vụ</th>
                <th>Mô tả</th>
                <th>Trạng thái</th>
                <th>Ngày tạo</th>
                <th>Hạn hoàn thành</th>
            </tr>
            @foreach (var item in Model)
            {
                <tr style="text-align:center">
                    <td>@Html.DisplayFor(modelItem => item.DuAnID)</td>
                    <td>@Html.DisplayFor(modelItem => item.TenNhiemVu)</td>
                    <td>@Html.DisplayFor(modelItem => item.MoTa)</td>
                    <td>
                        <span class="badge @(item.TrangThai == "Hoàn thành" ? "badge-success" : "badge-warning")">
                            @Html.DisplayFor(modelItem => item.TrangThai)
                        </span>
                    </td>
                    <td>@Html.DisplayFor(modelItem => item.NgayTao.HasValue ? item.NgayTao.Value.ToShortDateString() : "N/A")</td>
                    <td>@Html.DisplayFor(modelItem => item.HanHoanThanh.HasValue ? item.HanHoanThanh.Value.ToShortDateString() : "N/A")</td>
                </tr>
            }
        </table>
    }
</div>
